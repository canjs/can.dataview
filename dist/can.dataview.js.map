{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8ef1fe2e1773fe424a36","webpack:///./src/index.js","webpack:///external \"can\"","webpack:///external {\"root\":\"Bacon\",\"commonjs\":\"bacon\",\"commonjs2\":\"bacon\",\"amd\":\"bacon\"}","webpack:///external \"can.bacon\""],"names":[],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"can\", \"bacon\", \"can.bacon\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\")) : factory(root[\"can\"], root[\"Bacon\"], root[\"can.bacon\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8ef1fe2e1773fe424a36\n **/","module can from \"can\";\nmodule Bacon from \"bacon\";\nimport \"can.bacon\";\n\ncan.makeDataViewStreamFromStream = function(stream, map) {\n  var mapping = [];\n  var removeStream = stream.filter(function(ev) { return ev.how === \"remove\"; }).map(function(event) {\n    var mappedIndex = findMappedIndex(mapping, event.index),\n        mappedCount = findMappedCount(mapping, mappedIndex, event.value.length);\n    mapping.splice(event.index, event.value.length).forEach(function(c) { c.unbind(\"change\"); });\n    return {\n      how: \"splice\",\n      howMany: mappedCount,\n      index: mappedIndex,\n      value: []\n    };\n  });\n  var changeStream = stream.filter(function(ev) {\n    return ~[\"add\",\"set\"].indexOf(ev.how);\n  }).withHandler(function(event) {\n    if (event.isEnd()) {return;}\n    event = event.value();\n    var handler = this;\n    event.value.forEach(function(val, i) {\n      var lastCount = 0;\n      var compute = can.compute(function() {\n        var newItems;\n        if (map.length > 1) {\n          newItems = [];\n          map(val, function(val) { newItems.push(val); });\n        } else {\n          newItems = [map(val)];\n        }\n        handler.push(new Bacon.Next({\n          howMany: lastCount,\n          computeIndex: mapping.indexOf(compute),\n          value: newItems\n        }));\n        lastCount = newItems.length;\n        return lastCount;\n      });\n      mapping\n        .splice(event.index + i, event.how === \"add\" ? 0 : 1, compute)\n        .forEach(function(c) { c.unbind(\"change\"); });\n      compute.bind(\"change\", function() {});\n    });\n  }).map(function(ev) {\n    return {\n      how: \"splice\",\n      howMany: ev.howMany,\n      value: ev.value,\n      index: findMappedIndex(mapping, ev.computeIndex)\n    };\n  });\n  return removeStream.merge(changeStream);\n};\n\ncan.List.prototype.toDataViewStream = function(mapper) {\n  return can.makeDataViewStreamFromStream(\n    this.bind(\"add\")\n      .merge(this.bind(\"remove\"))\n      .merge(this.bind(\"set\")),\n    mapper);\n};\n\ncan.List.prototype.toDataViewList = function(mapper) {\n  return this.toDataViewStream(mapper).toList();\n};\n\n/*\ncan.List.prototype.dataViewSync = function(list, mapper) {\n  var results = [];\n  list.forEach(function(val) {\n    var newItems;\n    if (mapper.length > 1) {\n      newItems = [];\n      mapper(val, function(val) { results.push(val); });\n    } else {\n      newItems = [mapper(val)];\n    }\n  });\n  this.replace(results);\n  return this;\n};\n*/\n\n//\n// Util\n//\nfunction findMappedIndex(mapping, index) {\n  var mappedIndex = 0;\n  for (var i = 0; i < index; i++) {\n    mappedIndex += (mapping[i] || function(){return 0;})();\n  }\n  return mappedIndex;\n}\n\nfunction findMappedCount(mapping, mappedIndex, length) {\n  var mappedCount = 0;\n  for (var i = mappedIndex; i < mappedIndex + length; i++) {\n    mappedCount += (mapping[i] || function(){return 0;})();\n  }\n  return mappedCount;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"can\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"Bacon\",\"commonjs\":\"bacon\",\"commonjs2\":\"bacon\",\"amd\":\"bacon\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"can.bacon\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"can.dataview.js"}