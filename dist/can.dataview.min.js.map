{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///can.dataview.min.js","webpack:///webpack/bootstrap 5eb281694b46b7b9489b","webpack:///./src/index.js","webpack:///external \"can\"","webpack:///external {\"root\":\"Bacon\",\"commonjs\":\"bacon\",\"commonjs2\":\"bacon\",\"amd\":\"bacon\"}","webpack:///external \"can.bacon\""],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","findMappedIndex","mapping","index","mappedIndex","findMappedCount","length","mappedCount","can","Bacon","makeViewStreamFromStream","stream","map","removeStream","filter","ev","how","event","value","splice","forEach","unbind","howMany","changeStream","indexOf","withHandler","handler","val","lastCount","compute","newItems","push","Next","bind","merge","List","prototype","toViewStream","mapper","bus","Bus","attr","toViewList","toList"],"mappings":"CAAA,SAAAA,EAAAC,GACA,mBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,OAAAA,QAAA,SAAAA,QAAA,kBACA,sBAAAC,gBAAAC,IACAD,QAAA,2BAAAJ,OACA,CACA,GAAAM,GAAA,gBAAAL,SAAAD,EAAAG,QAAA,OAAAA,QAAA,SAAAA,QAAA,cAAAH,EAAAD,EAAA,IAAAA,EAAA,MAAAA,EAAA,aACA,QAAAQ,KAAAD,IAAA,gBAAAL,iBAAAF,GAAAQ,GAAAD,EAAAC,KAECC,KAAA,SAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAb,OAGA,IAAAC,GAAAa,EAAAD,IACAb,WACAe,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAhB,EAAAD,QAAAC,IAAAD,QAAAY,GAGAX,EAAAe,QAAA,EAGAf,EAAAD,QAvBA,GAAAc,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASX,EAAQD,EAASY,GEtDhC,YF6HC,SEvDQS,GAAgBC,EAASC,GAEhC,IAAS,GADLC,GAAc,EACTlB,EAAI,EAAOiB,EAAJjB,EAAWA,IACzBkB,IAAgBF,EAAQhB,IAAM,WAAW,MAAO,MACjD,OACMkB,GAGT,QAASC,GAAgBH,EAASE,EAAaE,GAE7C,IAAS,GADLC,GAAc,EACTrB,EAAIkB,EAAiBA,EAAcE,EAAlBpB,EAA0BA,IAClDqB,IAAgBL,EAAQhB,IAAM,WAAW,MAAO,MACjD,OACMqB,GF1BR,GACIC,GAAMhB,EE1DK,GF2DXiB,EAAQjB,EE1DK,EF2DjBA,GE1DM,GAEPgB,EAAGE,yBAA4B,SAASC,EAAQC,GAC9C,GAAIV,MACAW,EAAeF,EAAMG,OAAQ,SAASC,GAAM,MAAkB,WAAXA,EAAEC,MAAqBJ,IAAK,SAASK,GAC1F,GAAIb,GAAcH,EAAgBC,EAASe,EAAKd,OAC5CI,EAAcF,EAAgBH,EAASE,EAAaa,EAAKC,MAAMZ,OAEnE,OADAJ,GAAOiB,OAAQF,EAAKd,MAAQc,EAAKC,MAAMZ,QAAQc,QAAS,SAASrB,GAAKA,EAACsB,OAAQ,aAE7EL,IAAK,SACLM,QAASf,EACTJ,MAAOC,EACPc,YAGAK,EAAeZ,EAAMG,OAAQ,SAASC,GACxC,QAAS,MAAM,OAAMS,QAAST,EAAEC,OAChCS,YAAa,SAASR,GACtBA,EAAQA,EAAKC,OACb,IAAIQ,GAAUvC,IACd8B,GAAKC,MAAME,QAAS,SAASO,EAAKzC,GAChC,GAAI0C,GAAY,EACZC,EAAUrB,EAAGqB,QAAS,WACxB,GAAIC,EAcJ,OAbIlB,GAAGN,OAAU,GACfwB,KACAlB,EAAIe,EAAK,SAASA,GAAOG,EAAQC,KAAMJ,MAEvCG,GAAYlB,EAAIe,IACjBD,EACMK,KAAM,GAAItB,GAAKuB,MACpBhB,IAAK,SACLM,QAASM,EACTzB,MAAOF,EAAgBC,EAASA,EAAOsB,QAASK,IAChDX,MAAOY,KAETF,EAAYE,EAAQxB,QAGtBJ,GAAOiB,OACGF,EAAKd,MAASjB,EAAiB,QAAd+B,EAAKD,IAAiB,EAAI,EAAGa,GAAQT,QACrD,SAASrB,GAAKA,EAACsB,OAAQ,YAClCQ,EAAOI,KAAM,SAAU,iBAG3B,OAAOpB,GAAYqB,MAAOX,IAG5Bf,EAAG2B,KAAKC,UAAUC,aAAgB,SAASC,GACzC,GAAIC,GAAM,GAAI9B,GAAK+B,IACf7B,EAASH,EAAGE,yBACVvB,KAAI8C,KAAM,OAAMC,MAAO/C,KAAI8C,KAAM,WAAUC,MAAO/C,KAAI8C,KAAM,QAAOC,MAAOK,GAC1ED,EAMN,OALAC,GAAGR,MACDf,IAAK,MACLb,MAAO,EACPe,MAAO/B,KAAIsD,SAEN9B,GAGTH,EAAG2B,KAAKC,UAAUM,WAAc,SAASJ,GACvC,MAAOnD,MAAIkD,aAAcC,GAAOK,WFoF5B,SAAS9D,GGpJfA,EAAAD,QAAAQ,GH0JM,SAASP,GI1JfA,EAAAD,QAAAS,GJgKM,SAASR,GKhKfA,EAAAD,QAAAU","file":"can.dataview.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"can\", \"bacon\", \"can.bacon\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\")) : factory(root[\"can\"], root[\"Bacon\"], root[\"can.bacon\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"can\", \"bacon\", \"can.bacon\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"can\"), require(\"bacon\"), require(\"can.bacon\")) : factory(root[\"can\"], root[\"Bacon\"], root[\"can.bacon\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __moduleName = \"src/index\";\n\tvar can = __webpack_require__(1);\n\tvar Bacon = __webpack_require__(2);\n\t__webpack_require__(3);\n\tcan.makeViewStreamFromStream = function(stream, map) {\n\t  var mapping = [];\n\t  var removeStream = stream.filter(function(ev) {\n\t    return ev.how === \"remove\";\n\t  }).map(function(event) {\n\t    var mappedIndex = findMappedIndex(mapping, event.index),\n\t        mappedCount = findMappedCount(mapping, mappedIndex, event.value.length);\n\t    mapping.splice(event.index, event.value.length).forEach(function(c) {\n\t      c.unbind(\"change\");\n\t    });\n\t    return {\n\t      how: \"splice\",\n\t      howMany: mappedCount,\n\t      index: mappedIndex,\n\t      value: []\n\t    };\n\t  });\n\t  var changeStream = stream.filter(function(ev) {\n\t    return ~[\"add\", \"set\"].indexOf(ev.how);\n\t  }).withHandler(function(event) {\n\t    event = event.value();\n\t    var handler = this;\n\t    event.value.forEach(function(val, i) {\n\t      var lastCount = 0;\n\t      var compute = can.compute(function() {\n\t        var newItems;\n\t        if (map.length > 1) {\n\t          newItems = [];\n\t          map(val, function(val) {\n\t            newItems.push(val);\n\t          });\n\t        } else {\n\t          newItems = [map(val)];\n\t        }\n\t        handler.push(new Bacon.Next({\n\t          how: \"splice\",\n\t          howMany: lastCount,\n\t          index: findMappedIndex(mapping, mapping.indexOf(compute)),\n\t          value: newItems\n\t        }));\n\t        lastCount = newItems.length;\n\t        return lastCount;\n\t      });\n\t      mapping.splice(event.index + i, event.how === \"add\" ? 0 : 1, compute).forEach(function(c) {\n\t        c.unbind(\"change\");\n\t      });\n\t      compute.bind(\"change\", function() {});\n\t    });\n\t  });\n\t  return removeStream.merge(changeStream);\n\t};\n\tcan.List.prototype.toViewStream = function(mapper) {\n\t  var bus = new Bacon.Bus(),\n\t      stream = can.makeViewStreamFromStream(this.bind(\"add\").merge(this.bind(\"remove\")).merge(this.bind(\"set\")).merge(bus), mapper);\n\t  bus.push({\n\t    how: \"add\",\n\t    index: 0,\n\t    value: this.attr()\n\t  });\n\t  return stream;\n\t};\n\tcan.List.prototype.toViewList = function(mapper) {\n\t  return this.toViewStream(mapper).toList();\n\t};\n\tfunction findMappedIndex(mapping, index) {\n\t  var mappedIndex = 0;\n\t  for (var i = 0; i < index; i++) {\n\t    mappedIndex += (mapping[i] || function() {\n\t      return 0;\n\t    })();\n\t  }\n\t  return mappedIndex;\n\t}\n\tfunction findMappedCount(mapping, mappedIndex, length) {\n\t  var mappedCount = 0;\n\t  for (var i = mappedIndex; i < mappedIndex + length; i++) {\n\t    mappedCount += (mapping[i] || function() {\n\t      return 0;\n\t    })();\n\t  }\n\t  return mappedCount;\n\t}\n\t\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }\n/******/ ])\n});\n\n\n\n/** WEBPACK FOOTER **\n ** can.dataview.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5eb281694b46b7b9489b\n **/","module can from \"can\";\nmodule Bacon from \"bacon\";\nimport \"can.bacon\";\n\ncan.makeViewStreamFromStream = function(stream, map) {\n  var mapping = [];\n  var removeStream = stream.filter(function(ev) { return ev.how === \"remove\"; }).map(function(event) {\n    var mappedIndex = findMappedIndex(mapping, event.index),\n        mappedCount = findMappedCount(mapping, mappedIndex, event.value.length);\n    mapping.splice(event.index, event.value.length).forEach(function(c) { c.unbind(\"change\"); });\n    return {\n      how: \"splice\",\n      howMany: mappedCount,\n      index: mappedIndex,\n      value: []\n    };\n  });\n  var changeStream = stream.filter(function(ev) {\n    return ~[\"add\",\"set\"].indexOf(ev.how);\n  }).withHandler(function(event) {\n    event = event.value();\n    var handler = this;\n    event.value.forEach(function(val, i) {\n      var lastCount = 0;\n      var compute = can.compute(function() {\n        var newItems;\n        if (map.length > 1) {\n          newItems = [];\n          map(val, function(val) { newItems.push(val); });\n        } else {\n          newItems = [map(val)];\n        }\n        handler.push(new Bacon.Next({\n          how: \"splice\",\n          howMany: lastCount,\n          index: findMappedIndex(mapping, mapping.indexOf(compute)),\n          value: newItems\n        }));\n        lastCount = newItems.length;\n        return lastCount;\n      });\n      mapping\n        .splice(event.index + i, event.how === \"add\" ? 0 : 1, compute)\n        .forEach(function(c) { c.unbind(\"change\"); });\n      compute.bind(\"change\", function(){});\n    });\n  });\n  return removeStream.merge(changeStream);\n};\n\ncan.List.prototype.toViewStream = function(mapper) {\n  var bus = new Bacon.Bus(),\n      stream = can.makeViewStreamFromStream(\n        this.bind(\"add\").merge(this.bind(\"remove\")).merge(this.bind(\"set\")).merge(bus),\n        mapper);\n  bus.push({\n    how: \"add\",\n    index: 0,\n    value: this.attr()\n  });\n  return stream;\n};\n\ncan.List.prototype.toViewList = function(mapper) {\n  return this.toViewStream(mapper).toList();\n};\n\n//\n// Util\n//\nfunction findMappedIndex(mapping, index) {\n  var mappedIndex = 0;\n  for (var i = 0; i < index; i++) {\n    mappedIndex += (mapping[i] || function(){return 0;})();\n  }\n  return mappedIndex;\n}\n\nfunction findMappedCount(mapping, mappedIndex, length) {\n  var mappedCount = 0;\n  for (var i = mappedIndex; i < mappedIndex + length; i++) {\n    mappedCount += (mapping[i] || function(){return 0;})();\n  }\n  return mappedCount;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"can\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"Bacon\",\"commonjs\":\"bacon\",\"commonjs2\":\"bacon\",\"amd\":\"bacon\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"can.bacon\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}